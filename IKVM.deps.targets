<Project>

    <ItemGroup>
        <PackageReference Include="Mono.Unix" GeneratePathProperty="true" />
        <PackageReference Include="Mono.Posix" GeneratePathProperty="true" />
    </ItemGroup>

    <Choose>
        <When Condition="$([MSBuild]::IsTargetFrameworkCompatible('$(TargetFramework)', 'net461'))">
            <ItemGroup>
                <Reference Include="System.Configuration" />
                <Reference Include="System.IO.Compression" />
                <Reference Include="System.Security" />
                <PackageReference Include="System.Buffers" />
                <PackageReference Include="System.IO.Pipelines" />
                <PackageReference Include="System.Memory" />
                <PackageReference Include="System.Runtime.CompilerServices.Unsafe" />
                <PackageReference Include="System.Runtime.InteropServices.RuntimeInformation" />
                <PackageReference Include="System.ValueTuple" />
                <PackageReference Include="System.Text.Json" />
            </ItemGroup>
        </When>
        <When Condition="$([MSBuild]::IsTargetFrameworkCompatible('$(TargetFramework)', 'net6.0'))">
            <ItemGroup>
                <PackageReference Include="Microsoft.Extensions.DependencyModel" />
                <PackageReference Include="Microsoft.Win32.Registry" />
                <PackageReference Include="System.Drawing.Common" />
                <PackageReference Include="System.Data.Odbc" />
            </ItemGroup>
        </When>
        <When Condition="$([MSBuild]::IsTargetFrameworkCompatible('$(TargetFramework)', 'netcoreapp3.1'))">
            <ItemGroup>
                <PackageReference Include="Microsoft.Extensions.DependencyModel" />
                <PackageReference Include="Microsoft.Win32.Registry" />
                <PackageReference Include="System.Drawing.Common" />
                <PackageReference Include="System.Data.Odbc" />
                <PackageReference Include="System.IO.FileSystem.AccessControl" />
            </ItemGroup>
        </When>
    </Choose>

</Project>
